package Services;


import Constants.Constants;
import Entities.ShoppingCart;
import PaymentMethods.Payment;

public class ShoppingCartService {
	
	private static ShoppingCartService instance;
	
	public static ShoppingCartService getInstance() {
		if (instance == null) {
			instance = new ShoppingCartService();
		}
		return instance;
	}
	
	public void addItem(ShoppingCart cart) {
		cart.getItems().add(ItemService.createItem());
	}
	
	public void removeItem(ShoppingCart cart) {
		String itemName = Input.askString(Constants.ASK_ITEM_NAME);
		
		cart.getItems().stream().filter(item -> item.getName() != itemName);
	}
	
	public Double calculateTotal(ShoppingCart cart) {
		return cart.getItems().stream().map(item -> item.getPrice()).reduce(0d, (a,b) -> a + b);
	}
	
	
	public void pay(ShoppingCart cart, Payment payment) {
		payment.pay(calculateTotal(cart));
	}
}
